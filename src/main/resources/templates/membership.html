<!DOCTYPE html>
<html lang="vi">

<head>
    <div th:replace="~{fragments/head :: head}"></div>
    <title>Th·∫ª th√†nh vi√™n | CANIFA</title>
    <style>
        .profile-container {
            display: flex;
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        .profile-sidebar {
            width: 280px;
        }

        .sidebar-user-info {
            background: linear-gradient(135deg, #DA291C, #c41e3a);
            color: white;
            padding: 25px;
            border-radius: 12px 12px 0 0;
            text-align: center;
        }

        .sidebar-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 32px;
        }

        .sidebar-name {
            font-size: 18px;
            font-weight: 700;
            margin: 10px 0;
        }

        .sidebar-menu {
            background: white;
            border-radius: 0 0 12px 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        }

        .sidebar-menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 20px;
            color: #666;
            font-size: 14px;
            border-bottom: 1px solid #eee;
        }

        .sidebar-menu-item:hover {
            background: #f9f9f9;
            color: #DA291C;
        }

        .sidebar-menu-item.active {
            background: #fff5f5;
            color: #DA291C;
            font-weight: 600;
            border-left: 3px solid #DA291C;
        }

        .sidebar-menu-item svg {
            width: 20px;
            height: 20px;
        }

        .profile-content {
            flex: 1;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            padding: 30px;
        }

        .profile-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .member-card {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .member-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 200px;
            height: 200px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
        }

        .member-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .member-card-logo {
            font-size: 24px;
            font-weight: 800;
            letter-spacing: 2px;
        }

        .member-level-badge {
            padding: 6px 15px;
            background: #4ade80;
            color: #000;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
        }

        .member-card-id {
            font-size: 20px;
            letter-spacing: 3px;
            margin-bottom: 20px;
            font-family: monospace;
        }

        .member-card-name {
            font-size: 16px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .member-benefits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .benefit-box {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }

        .benefit-icon {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .benefit-title {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .benefit-desc {
            font-size: 13px;
            color: #666;
        }

        .levels-section h3 {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .levels-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
        }

        .level-card {
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid #eee;
        }

        .level-card.green {
            border-color: #4ade80;
            background: #f0fdf4;
        }

        .level-card.silver {
            border-color: #94a3b8;
            background: #f8fafc;
        }

        .level-card.gold {
            border-color: #fbbf24;
            background: #fffbeb;
        }

        .level-card.platinum {
            border-color: #8b5cf6;
            background: #f5f3ff;
        }

        .level-name {
            font-weight: 700;
            margin-bottom: 5px;
        }

        .level-req {
            font-size: 12px;
            color: #666;
        }

        @media (max-width: 900px) {
            .profile-container {
                flex-direction: column;
            }

            .profile-sidebar {
                width: 100%;
            }

            .levels-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>

<body>
    <div th:replace="~{fragments/header :: header}"></div>
    <div class="profile-container">
        <aside class="profile-sidebar">
            <div class="sidebar-user-info">
                <div class="sidebar-avatar">üë§</div>
                <p class="sidebar-name" id="userName">Kh√°ch h√†ng</p>
            </div>
            <nav class="sidebar-menu">
                <a href="/profile" class="sidebar-menu-item"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="1.5">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                        <circle cx="12" cy="7" r="4" />
                    </svg>Th√¥ng tin t√†i kho·∫£n</a>
                <a href="/vouchers" class="sidebar-menu-item"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="1.5">
                        <rect x="1" y="5" width="22" height="14" rx="2" />
                    </svg>M√£ ∆∞u ƒë√£i</a>
                <a href="/orders" class="sidebar-menu-item"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="1.5">
                        <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z" />
                    </svg>ƒê∆°n h√†ng</a>
                <a href="/membership" class="sidebar-menu-item active"><svg viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="1.5">
                        <rect x="1" y="4" width="22" height="16" rx="2" />
                        <line x1="1" y1="10" x2="23" y2="10" />
                    </svg>Th·∫ª th√†nh vi√™n</a>
                <a href="/address" class="sidebar-menu-item"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="1.5">
                        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
                        <circle cx="12" cy="10" r="3" />
                    </svg>S·ªï ƒë·ªãa ch·ªâ</a>
                <a href="#" class="sidebar-menu-item" onclick="logout()"><svg viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="1.5">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                        <polyline points="16 17 21 12 16 7" />
                    </svg>ƒêƒÉng xu·∫•t</a>
            </nav>
        </aside>
        <main class="profile-content">
            <h1 class="profile-title">TH·∫∫ TH√ÄNH VI√äN</h1>
            <div class="member-card">
                <div class="member-card-header"><span class="member-card-logo">CANIFA</span><span
                        class="member-level-badge" id="levelBadge">GREEN</span></div>
                <p class="member-card-id" id="memberId">**** **** **** 1234</p>
                <p class="member-card-name" id="memberName">KH√ÅCH H√ÄNG</p>
            </div>
            <div class="member-benefits">
                <div class="benefit-box">
                    <div class="benefit-icon">üéÅ</div>
                    <div class="benefit-title">∆Øu ƒë√£i sinh nh·∫≠t</div>
                    <div class="benefit-desc">Gi·∫£m 15% trong th√°ng sinh nh·∫≠t</div>
                </div>
                <div class="benefit-box">
                    <div class="benefit-icon">üí∞</div>
                    <div class="benefit-title">T√≠ch ƒëi·ªÉm</div>
                    <div class="benefit-desc">1 ƒëi·ªÉm = 10,000ƒë chi ti√™u</div>
                </div>
                <div class="benefit-box">
                    <div class="benefit-icon">üîî</div>
                    <div class="benefit-title">∆Øu ti√™n sale</div>
                    <div class="benefit-desc">Truy c·∫≠p s·ªõm c√°c ƒë·ª£t sale</div>
                </div>
            </div>
            <div class="levels-section">
                <h3>C√°c h·∫°ng th√†nh vi√™n</h3>
                <div class="levels-grid">
                    <div class="level-card green">
                        <div class="level-name">üü¢ Green</div>
                        <div class="level-req">0 - 999 ƒëi·ªÉm</div>
                    </div>
                    <div class="level-card silver">
                        <div class="level-name">‚ö™ Silver</div>
                        <div class="level-req">1,000 - 2,999 ƒëi·ªÉm</div>
                    </div>
                    <div class="level-card gold">
                        <div class="level-name">üü° Gold</div>
                        <div class="level-req">3,000 - 4,999 ƒëi·ªÉm</div>
                    </div>
                    <div class="level-card platinum">
                        <div class="level-name">üü£ Platinum</div>
                        <div class="level-req">5,000+ ƒëi·ªÉm</div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div th:replace="~{fragments/footer :: footer}"></div>
    <script>
        const user = JSON.parse(localStorage.getItem('canifaUser'));
        if (user) {
            document.getElementById('userName').textContent = user.name || 'Kh√°ch h√†ng';
            document.getElementById('memberName').textContent = (user.name || 'Kh√°ch h√†ng').toUpperCase();
            document.getElementById('memberId').textContent = '**** **** **** ' + (user.id || '1234').toString().slice(-4);
        }
    </script>
</body>

</html>