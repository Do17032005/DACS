<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<body>
    <div th:fragment="footer">
        <!-- Footer -->
        <footer class="main-footer">
            <div class="container">
                <div class="footer-content">
                    <!-- Column 1 - Company Info -->
                    <div class="footer-col">
                        <h4 data-editable="footer_project_title" data-edit-label="Ti√™u ƒë·ªÅ d·ª± √°n">D·ª∞ √ÅN WEBSITE B√ÅN H√ÄNG TH·ªúI TRANG</h4>
                        <p><strong>T√™n d·ª± √°n:</strong> <span data-editable="footer_project_name" data-edit-label="T√™n d·ª± √°n">ClothesShopOnline</span></p>
                        <p><strong>Th·ª±c hi·ªán b·ªüi:</strong> <span data-editable="footer_authors" data-edit-label="T√°c gi·∫£">Nguy·ªÖn Ti·∫øn Doanh, Ho√†ng VƒÉn ƒê·ªô</span></p>
                        <p><strong>M·ª•c ƒë√≠ch:</strong> <span data-editable="footer_purpose" data-edit-label="M·ª•c ƒë√≠ch">D·ª± √°n h·ªçc t·∫≠p ‚Äì kh√¥ng s·ª≠ d·ª•ng cho m·ª•c ƒë√≠ch th∆∞∆°ng m·∫°i</span></p>
                        <p><strong>ƒê·ªãa ch·ªâ:</strong> <span data-editable="contact_address" data-edit-label="ƒê·ªãa ch·ªâ">ƒêH Phenikaa / Th√†nh ph·ªë H√† N·ªôi</span></p>
                        <p><strong>ƒêi·ªán tho·∫°i:</strong> <span data-editable="contact_phone" data-edit-label="ƒêi·ªán tho·∫°i">0123 456 789</span></p>
                        <p><strong>Email:</strong> <span data-editable="contact_email" data-edit-label="Email">admin@example.com</span></p>
                    </div>

                    <!-- Column 2 -->
                    <div class="footer-col">
                        <h4>V·ªÄ CLOTHESSHOP</h4>
                        <ul>
                            <li><a href="#">Gi·ªõi thi·ªáu</a></li>
                            <li><a href="#">H·ªá th·ªëng c·ª≠a h√†ng</a></li>
                            <li><a href="#">Tin t·ª©c & S·ª± ki·ªán</a></li>
                            <li><a href="#">Li√™n h·ªá</a></li>
                        </ul>
                    </div>

                    <!-- Column 3 -->
                    <div class="footer-col">
                        <h4>H·ªñ TR·ª¢ KH√ÅCH H√ÄNG</h4>
                        <ul>
                            <li><a href="#">H∆∞·ªõng d·∫´n ch·ªçn size</a></li>
                            <li><a href="#">Ch√≠nh s√°ch kh√°ch h√†ng th√¢n thi·∫øt</a></li>
                            <li><a href="#">Ch√≠nh s√°ch ƒë·ªïi/tr·∫£</a></li>
                            <li><a href="#">Ch√≠nh s√°ch b·∫£o m·∫≠t</a></li>
                            <li><a href="#">Ch√≠nh s√°ch Thanh to√°n, V·∫≠n chuy·ªÉn</a></li>
                        </ul>
                    </div>

                    <!-- Column 4 -->
                    <div class="footer-col">
                        <h4>T√ÄI KHO·∫¢N</h4>
                        <ul>
                            <li><a th:href="@{/login}">ƒêƒÉng nh·∫≠p/ƒêƒÉng k√Ω</a></li>
                            <li><a th:href="@{/profile}">Chi ti·∫øt t√†i kho·∫£n</a></li>
                            <li><a th:href="@{/orders}">L·ªãch s·ª≠ mua h√†ng</a></li>
                        </ul>
                        <h4 class="social-title">M·∫†NG X√É H·ªòI</h4>
                        <div class="social-links">
                            <a href="https://facebook.com" target="_blank" class="social-link facebook">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
                                </svg>
                            </a>
                            <a href="https://instagram.com" target="_blank" class="social-link instagram">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                                    <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                                    <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                                </svg>
                            </a>
                            <a href="https://youtube.com" target="_blank" class="social-link youtube">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path
                                        d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z">
                                    </path>
                                    <polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02" fill="#fff"></polygon>
                                </svg>
                            </a>
                            <a href="https://tiktok.com" target="_blank" class="social-link tiktok">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path
                                        d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z">
                                    </path>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Payment Methods -->
                <div class="footer-payment">
                    <span>Ph∆∞∆°ng th·ª©c thanh to√°n:</span>
                    <div class="payment-icons">
                        <div class="payment-icon" title="Ti·ªÅn m·∫∑t">
                            <svg width="40" height="28" viewBox="0 0 40 28" fill="none">
                                <rect width="40" height="28" rx="4" fill="#f5f5f5" />
                                <text x="20" y="17" text-anchor="middle" fill="#333" font-size="8"
                                    font-weight="600">TI·ªÄN M·∫∂T</text>
                            </svg>
                        </div>
                        <div class="payment-icon" title="Chuy·ªÉn kho·∫£n">
                            <svg width="40" height="28" viewBox="0 0 40 28" fill="none">
                                <rect width="40" height="28" rx="4" fill="#1a4d8c" />
                                <text x="20" y="12" text-anchor="middle" fill="#fff" font-size="6"
                                    font-weight="700">BANK</text>
                                <text x="20" y="20" text-anchor="middle" fill="#fff" font-size="5">TRANSFER</text>
                            </svg>
                        </div>
                        <div class="payment-icon" title="Visa">
                            <svg width="40" height="28" viewBox="0 0 40 28" fill="none">
                                <rect width="40" height="28" rx="4" fill="#fff" stroke="#ddd" />
                                <text x="20" y="18" text-anchor="middle" fill="#1a1f71" font-size="12" font-weight="700"
                                    font-style="italic">VISA</text>
                            </svg>
                        </div>
                        <div class="payment-icon" title="Mastercard">
                            <svg width="40" height="28" viewBox="0 0 40 28" fill="none">
                                <rect width="40" height="28" rx="4" fill="#fff" stroke="#ddd" />
                                <circle cx="16" cy="14" r="8" fill="#eb001b" />
                                <circle cx="24" cy="14" r="8" fill="#f79e1b" />
                            </svg>
                        </div>
                        <div class="payment-icon" title="JCB">
                            <svg width="40" height="28" viewBox="0 0 40 28" fill="none">
                                <rect width="40" height="28" rx="4" fill="#fff" stroke="#ddd" />
                                <rect x="6" y="8" width="8" height="12" rx="2" fill="#0066cc" />
                                <rect x="16" y="8" width="8" height="12" rx="2" fill="#cc0033" />
                                <rect x="26" y="8" width="8" height="12" rx="2" fill="#009933" />
                            </svg>
                        </div>
                        <div class="payment-icon" title="VNPay">
                            <svg width="40" height="28" viewBox="0 0 40 28" fill="none">
                                <rect width="40" height="28" rx="4" fill="#fff" stroke="#ddd" />
                                <text x="20" y="16" text-anchor="middle" fill="#0066cc" font-size="8"
                                    font-weight="700">VNPAY</text>
                            </svg>
                        </div>
                        <div class="payment-icon" title="ShopeePay">
                            <svg width="40" height="28" viewBox="0 0 40 28" fill="none">
                                <rect width="40" height="28" rx="4" fill="#ee4d2d" />
                                <text x="20" y="12" text-anchor="middle" fill="#fff" font-size="6"
                                    font-weight="700">S</text>
                                <text x="20" y="20" text-anchor="middle" fill="#fff" font-size="5">Pay</text>
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- Copyright -->
                <div class="footer-bottom">
                    <p>¬© 2026 ClothesShop. D·ª± √°n h·ªçc t·∫≠p - ƒêH Phenikaa. All rights reserved.</p>
                </div>
            </div>
        </footer>

        <!-- AI Chatbot Widget -->
        <div class="chatbot-widget" id="chatbotWidget">
            <div class="chatbot-toggle" id="chatbotToggle">
                <span class="chatbot-icon">ü§ñ</span>
                <span class="chatbot-badge">AI</span>
            </div>
            <div class="chatbot-window" id="chatbotWindow">
                <div class="chatbot-header">
                    <div class="chatbot-avatar">ü§ñ</div>
                    <div class="chatbot-info">
                        <h4>ClothesShop AI Assistant</h4>
                        <span class="chatbot-status">‚óè Online</span>
                    </div>
                    <button class="chatbot-close" id="chatbotClose">√ó</button>
                </div>
                <div class="chatbot-messages" id="chatbotMessages">
                    <div class="chat-message bot">
                        <div class="message-content">
                            Xin ch√†o! üëã T√¥i l√† tr·ª£ l√Ω AI c·ªßa ClothesShop. T√¥i c√≥ th·ªÉ gi√∫p b·∫°n:
                            <ul>
                                <li>üîç T√¨m ki·∫øm s·∫£n ph·∫©m</li>
                                <li>üëï G·ª£i √Ω trang ph·ª•c</li>
                                <li>üì¶ Tra c·ª©u ƒë∆°n h√†ng</li>
                                <li>üí¨ H·ªó tr·ª£ mua s·∫Øm</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="chatbot-quick-actions">
                    <button class="quick-btn" onclick="sendQuickMessage('G·ª£i √Ω √°o cho m√πa ƒë√¥ng')">üß• √Åo m√πa
                        ƒë√¥ng</button>
                    <button class="quick-btn" onclick="sendQuickMessage('S·∫£n ph·∫©m ƒëang sale')">üè∑Ô∏è ƒêang sale</button>
                    <button class="quick-btn" onclick="sendQuickMessage('Size c·ªßa t√¥i l√† g√¨')">üìê H∆∞·ªõng d·∫´n
                        size</button>
                </div>
                <div class="chatbot-input">
                    <input type="text" id="chatInput" placeholder="Nh·∫≠p tin nh·∫Øn..."
                        onkeypress="if(event.key==='Enter')sendMessage()">
                    <button class="send-btn" onclick="sendMessage()">‚û§</button>
                </div>
            </div>
        </div>

        <!-- Back to Top Button -->
        <button class="back-to-top" id="backToTop">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="18 15 12 9 6 15"></polyline>
            </svg>
        </button>

        <!-- Scripts -->
        <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
        <script th:src="@{/js/main.js}"></script>
        <script>
            // Chatbot functionality
            const chatbotToggle = document.getElementById('chatbotToggle');
            const chatbotWindow = document.getElementById('chatbotWindow');
            const chatbotClose = document.getElementById('chatbotClose');
            const chatMessages = document.getElementById('chatbotMessages');
            const chatInput = document.getElementById('chatInput');

            if (chatbotToggle) {
                chatbotToggle.addEventListener('click', () => chatbotWindow.classList.add('active'));
                chatbotClose.addEventListener('click', () => chatbotWindow.classList.remove('active'));
            }

            function sendMessage() {
                const text = chatInput.value.trim();
                if (!text) return;
                addMessage(text, 'user');
                chatInput.value = '';
                setTimeout(() => getAIResponse(text), 800);
            }

            function sendQuickMessage(text) {
                addMessage(text, 'user');
                setTimeout(() => getAIResponse(text), 800);
            }

            function addMessage(text, type) {
                const msg = document.createElement('div');
                msg.className = `chat-message ${type}`;
                msg.innerHTML = `<div class="message-content">${text}</div>`;
                chatMessages.appendChild(msg);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }

            function getAIResponse(query) {
                const q = query.toLowerCase();
                let response = '';

                if (q.includes('√°o') && (q.includes('ƒë√¥ng') || q.includes('m√πa'))) {
                    response = `D·ª±a tr√™n xu h∆∞·ªõng m√πa ƒë√¥ng 2026, t√¥i g·ª£i √Ω cho b·∫°n:
                    <div class="product-suggestion"><img src="https://images.unsplash.com/photo-1539109136881-3be0616acf4b?w=100&q=80"><div class="product-suggestion-info"><div class="product-suggestion-name">√Åo Kho√°c N·ªØ D√°ng Ng·∫Øn</div><div class="product-suggestion-price">599,000ƒë</div></div></div>
                    <div class="product-suggestion"><img src="https://images.unsplash.com/photo-1434389677669-e08b4cac3105?w=100&q=80"><div class="product-suggestion-info"><div class="product-suggestion-name">√Åo Len N·ªØ C·ªï Tr√≤n</div><div class="product-suggestion-price">359,000ƒë</div></div></div>`;
                } else if (q.includes('sale') || q.includes('gi·∫£m gi√°')) {
                    response = `üî• C√°c s·∫£n ph·∫©m ƒëang SALE HOT:<br><br>‚Ä¢ √Åo Thun N·ªØ Ph·ªëi M√†u: <b>-30%</b> ‚Üí 299,000ƒë<br>‚Ä¢ √Åo Len C·ªï Tr√≤n: <b>-40%</b> ‚Üí 359,000ƒë<br>‚Ä¢ √Åo S∆° Mi Tay D√†i: <b>-25%</b> ‚Üí 449,000ƒë<br><br><a href="/products" style="color:#DA291C;font-weight:600">Xem t·∫•t c·∫£ ‚Üí</a>`;
                } else if (q.includes('size')) {
                    response = `üìê <b>H∆∞·ªõng d·∫´n ch·ªçn size:</b><br><br>‚Ä¢ XS: 40-45kg, cao 150-155cm<br>‚Ä¢ S: 45-50kg, cao 155-160cm<br>‚Ä¢ M: 50-55kg, cao 160-165cm<br>‚Ä¢ L: 55-60kg, cao 165-170cm<br>‚Ä¢ XL: 60-65kg, cao 170-175cm<br><br>üí° Tip: N·∫øu b·∫°n th√≠ch m·∫∑c r·ªông, h√£y ch·ªçn l√™n 1 size!`;
                } else if (q.includes('ƒë∆°n h√†ng') || q.includes('giao')) {
                    response = `üì¶ ƒê·ªÉ tra c·ª©u ƒë∆°n h√†ng, b·∫°n vui l√≤ng:<br><br>1. ƒêƒÉng nh·∫≠p t√†i kho·∫£n<br>2. V√†o m·ª•c "ƒê∆°n h√†ng" trong t√†i kho·∫£n<br><br>Ho·∫∑c li√™n h·ªá hotline: <b>0123 456 789</b>`;
                } else {
                    response = `T√¥i hi·ªÉu b·∫°n ƒëang t√¨m ki·∫øm "${query}". ƒê·ªÉ h·ªó tr·ª£ t·ªët h∆°n, b·∫°n c√≥ th·ªÉ cho t√¥i bi·∫øt th√™m:<br><br>‚Ä¢ B·∫°n mu·ªën t√¨m s·∫£n ph·∫©m nam hay n·ªØ?<br>‚Ä¢ Ng√¢n s√°ch d·ª± ki·∫øn c·ªßa b·∫°n?<br>‚Ä¢ Phong c√°ch b·∫°n y√™u th√≠ch?`;
                }
                addMessage(response, 'bot');
            }
        </script>

        <!-- Admin Inline Editor Script -->
        <th:block sec:authorize="hasRole('ADMIN')">
            <script>
                document.body.classList.add('is-admin');
            </script>
            <script th:src="@{/js/admin-editor.js}"></script>
        </th:block>
    </div>
</body>

</html>